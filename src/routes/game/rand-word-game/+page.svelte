<script lang="ts">
    // å‡å°‘é¢œè‰²æ•°é‡ï¼Œä»¥ä¾¿æ›´å®¹æ˜“åŒºåˆ†
    const colorWords = "çº¢,é»„,ç»¿,è“,ç´«,é»‘,ç™½,æ©™".split(",");
    // é¢„å®šä¹‰çš„é¢œè‰²ï¼Œä»¥ä¾¿æ›´å®¹æ˜“åŒºåˆ†
    const colors = (
        "red,green,blue,purple,orange,pink,gray,brown,olive,cyan," +
        "navy,lime,aqua,fuchsia,teal,coral,crimson,gold,indigo,violet," +
        "black"
    ).split(",");

    function getRand(): [string, string] {
        let word = colorWords[Math.floor(Math.random() * colorWords.length)];
        let color = colors[Math.floor(Math.random() * colors.length)];
        return [word, color];
    }

    const maxCount = 10;
    const minCount = 2;
    // é»˜è®¤ç”Ÿæˆ5ä¸ªæ–‡å­—
    let inputCount = 5;

    let count;
    const data: [string, string][] = [];

    function genData() {
        // é™åˆ¶countèŒƒå›´
        count = Math.max(minCount, Math.min(maxCount, inputCount));
        // console.log(count);

        data.length = 0;
        for (let i = 0; i < count; i++) {
            data.push(getRand());
        }
    }

    setTimeout(genData, 200);
</script>

<div class="container">
    <h1>å¿«é€Ÿè¯»å‡ºä»¥ä¸‹é¢œè‰²ğŸ‘‡</h1>
    <p class="hint">ğŸŒˆç‚¹å‡»åˆ·æ–°ï¼Œå¿«æ¥è¯•è¯•å§ï¼</p>
    <input
        type="number"
        min={minCount}
        max={maxCount}
        bind:value={inputCount}
    />
    <button onclick={genData}>åˆ·æ–°</button>
    <div class="output">
        {#each data as [word, color]}
            <span style={`color:${color}`}> {word} </span>
        {/each}
    </div>
</div>

<style lang="less">
    div.container {
        font-family: Arial, sans-serif;
        text-align: center;
        margin-top: 50px;

        p.hint {
            font-size: smaller;
            color: #666;
        }

        div.output {
            margin-top: 20px;
            font-size: 4em;
            font-weight: bold;
            // å¢åŠ å­—ä¹‹é—´çš„é—´éš”
            word-spacing: 10px;
            letter-spacing: 10px;
        }
    }
</style>
